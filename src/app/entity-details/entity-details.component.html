<div class="container">
  <div class="header">
      Attributes
  </div>
  <div class="header">
      <div class="name-div">
          <label for="entityName">Entity Name</label>
          <input
              type="text"
              id="entityName"
              name="entityName"
              [(ngModel)]="entityName"
              disabled
          />
      </div>
  </div>

  <div class="headerbuttons">
      <div class="btn-div">
        <button class="create-button" routerLink="/createentity"><i class="fa-solid fa-plus icon"></i>Create</button>
      </div>
        <!-- Button to create a template -->
  <button class="create-button" [routerLink]="['/entity', entityName]" (click)="generateExcelTemplate()" [disabled]="!hasColumns()" style="font-size: small;">
    <i class="fa-solid fa-download"></i>
    Create Template
  </button>
  &nbsp;
  <button class="create-button" [disabled]="!hasColumns()" (click)="openFileInput()" style="font-size: small;">
    <i class="fa-solid fa-upload"></i>
    Upload Template
  </button>
  <input type="file" #fileInput style="display: none" (change)="uploadTemplate($event)" accept=".xlsx">

      <div class="back-div">
        <button class="back-button" routerLink="/entity-list"><i class="fa-solid fa-arrow-left icon"></i>Back</button>
      </div>
    </div>

  <div class="container table-container">
      <table class="table">
          <thead>
              <tr>
                  <th class="center-header">Column Name</th>
                  <th class="center-header">Data Type</th>
                  <th class="center-header">Length</th>
                  <th class="center-header">NotNull</th>
                  <th class="center-header">PrimaryKey</th>
                  <th class="center-header">Default Value</th>
                  <th class="center-header">Description</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let row of columns; let i = index">
                  <td class="center-content">
                      <input
                          type="text"         
                          [(ngModel)]="row.entityColumnName"
                          disabled
                      />
                  </td>
                  <td class="center-content">
                      <input
                          type="text"
                          [(ngModel)]="row.datatype"
                          disabled
                      />
                  </td>
                  <td class="center-content">
                    <ng-container *ngIf="row.length === 0; else showInput">
                      <input
                      type="number"
                      [disabled]="row.length === 0"
                  />
                    </ng-container>
                    <ng-template #showInput>
                        <input
                            type="number"
                            [(ngModel)]="row.length"
                            [disabled]="row.length === 0"
                        />
                    </ng-template>
                </td>
                  <td class="center-content">
                      <!-- Toggle Switch for Not Null (Disabled) -->
                      <label class="toggle-switch">
                          <input type="checkbox" [(ngModel)]="row.isNullable" disabled />
                          <span class="slider"></span>
                      </label>
                  </td>
                  <td class="center-content">
                      <!-- Toggle Switch for Primary Key (Disabled) -->
                      <label class="toggle-switch">
                          <input type="checkbox" [(ngModel)]="row.ColumnPrimaryKey" disabled />
                          <span class="slider"></span>
                      </label>
                  </td>
                  <td class="center-content">
                      <input
                          type="text"
                          [(ngModel)]="row.defaultValue"
                          disabled
                      />
                  </td>
                  <td class="center-content">
                      <input
                          type="text"
                          [(ngModel)]="row.description"
                          disabled
                      />
                  </td>
              </tr>
          </tbody>
      </table>
  </div>

  
        <!-- Pagination Controls -->
<!-- <div class="pagination-controls">
  <button class="page-button" (click)="previousPage()" [disabled]="currentPage === 1"><i class="fa-solid fa-angles-left"></i>Previous</button>
  <span style="margin-left: 25px;margin-right: 25px;">Page {{ currentPage }} of {{ totalPages }}</span>
  <button class="page-button" (click)="nextPage()" [disabled]="currentPage === totalPages">Next <i class="fa-solid fa-angles-right"></i></button>
</div>
</div> -->
